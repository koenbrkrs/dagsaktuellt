<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dagsaktuellt - Content Management</title>
  
  <!-- Netlify Identity Widget -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  
  <style>
    /* Custom Newsroom-themed CMS Interface */
    :root {
      --primary-color: #1a1a1a;
      --accent-color: #d4af37;
      --text-primary: #ffffff;
      --text-secondary: #b0b0b0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--primary-color);
    }
    
    /* Custom login screen styling */
    .nc-signinPane {
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
    }
    
    .nc-signinPane-title {
      color: var(--accent-color) !important;
      font-size: 2rem !important;
      font-weight: 700 !important;
      letter-spacing: -0.5px !important;
    }
    
    /* High-contrast newsroom aesthetic */
    .nc-app-main {
      background: #0a0a0a !important;
    }
    
    .nc-sidebar {
      background: var(--primary-color) !important;
      border-right: 1px solid #333 !important;
    }
    
    .nc-sidebar-heading {
      color: var(--accent-color) !important;
      font-weight: 600 !important;
    }
    
    /* Collection items styling */
    .nc-collectionPage-card {
      background: #1e1e1e !important;
      border: 1px solid #333 !important;
      transition: all 0.2s ease;
    }
    
    .nc-collectionPage-card:hover {
      border-color: var(--accent-color) !important;
      box-shadow: 0 4px 12px rgba(212, 175, 55, 0.1) !important;
    }
    
    /* Button styling */
    button[class*="primary"] {
      background: var(--accent-color) !important;
      color: var(--primary-color) !important;
      font-weight: 600 !important;
    }
    
    /* Loading screen branding */
    #nc-root::before {
      content: 'DAGSAKTUELLT';
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3rem;
      font-weight: 700;
      color: var(--accent-color);
      letter-spacing: 2px;
      z-index: 9999;
      animation: fadeOut 2s ease-in-out forwards;
    }
    
    @keyframes fadeOut {
      0%, 70% { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }
  </style>
</head>
<body>
  <!-- CMS Root Container -->
  <div id="nc-root"></div>
  
  <!-- Decap CMS Script -->
  <script src="https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js"></script>
  
  <!-- Custom Preview Templates -->
  <script src="preview.js"></script>
  
  <script>
    // Netlify Identity redirect handling
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>
</body>
</html>
